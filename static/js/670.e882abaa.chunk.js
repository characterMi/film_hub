"use strict";(self.webpackChunkfilm_hub=self.webpackChunkfilm_hub||[]).push([[670],{6670:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var i=s(3010),r=s(6946),l=s(1045),o=s(5865),a=s(2518),d=s(6704),n=s(4056),h=s(5043),x=s(5137),c=s(5475),m=s(7503),u=s(8435),v=s(8302),f=s(2753),p=s(3596),b=s(2030),j=s(579);const g=e=>{const{children:t,value:s,index:i,...r}=e;return(0,j.jsx)("div",{role:"tabpanel",hidden:s!==i,"aria-labelledby":`tab-${i}`,...r,children:t})},A=e=>{var t,s;let{theme:A}=e;const w=(0,f.v)(),k=localStorage.getItem("session_id"),{user:y}=(0,x.d4)(v.dt),{data:C,isFetching:_,error:I,refetch:L}=(0,p.kh)({listName:"favorite/"+("tv"===w?"tv":"movies"),accountId:y.id,sessionId:k,page:1}),{data:W,isFetching:B,error:E,refetch:F}=(0,p.kh)({listName:"watchlist/"+("tv"===w?"tv":"movies"),accountId:y.id,sessionId:k,page:1}),[S,M]=(0,c.ok)(),$=S.get("tab"),[z,N]=(0,h.useState)(!1),[T,Y]=(0,h.useState)($||0);(0,h.useEffect)((()=>{Y($>=0&&$<=1?+$:0)}),[$]),(0,h.useEffect)((()=>{if(!k)return void m.oR.error("You need to login to view your profile!");const{unsubscribe:e}=F(),{unsubscribe:t}=L();return()=>{e(),t()}}),[]);return(0,j.jsxs)(r.A,{children:[(0,j.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem",children:[(0,j.jsxs)(r.A,{display:"flex",overflow:"hidden",flex:"1",minWidth:"200px",children:[(0,j.jsx)(l.A,{sx:{border:"1px solid",p:1,width:{xs:"45px",sm:"60px"},height:{xs:"45px",sm:"60px"}},mb:"-1rem",alt:null===y||void 0===y?void 0:y.username,src:`https://www.themoviedb.org/t/p/w64_and_h64_face/${null===y||void 0===y||null===(t=y.avatar)||void 0===t||null===(s=t.tmdb)||void 0===s?void 0:s.avatar_path}`}),(0,j.jsxs)(r.A,{display:"flex",flexDirection:"column",ml:"1rem",children:[(0,j.jsx)(o.A,{sx:{fontSize:{xs:"26px",sm:"34px"}},gutterBottom:!0,children:"Your Profile"}),(0,j.jsx)(o.A,{variant:"body1",color:"#7a7a7a",sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:null!==y&&void 0!==y&&y.username?`@${y.username}`:"User"})]})]}),(0,j.jsxs)(a.A,{size:"small",sx:{height:"max-content"},color:"light"===A.palette.mode?"primary":"error",variant:"outlined",onClick:()=>N(!0),children:["Logout \xa0 ",(0,j.jsx)(i.A,{})]})]}),(0,j.jsx)(r.A,{sx:{borderBottom:1,borderColor:"divider",mt:"2rem"},children:(0,j.jsxs)(d.A,{value:T,onChange:(e,t)=>{M({tab:t}),Y(t)},"aria-label":"Movie tabs",textColor:"inherit",children:[(0,j.jsx)(n.A,{label:"Favorites",...(0,b.L7)(0)}),(0,j.jsx)(n.A,{label:"Watchlist",...(0,b.L7)(1)})]})}),(0,j.jsx)(g,{value:T,index:0,children:(0,j.jsx)(u.t1,{theme:A,movies:C,fallbackText:"Add some favorite movies to see them here!",title:"Favorite Movies",isLoading:_,isError:I})}),(0,j.jsx)(g,{value:T,index:1,children:(0,j.jsx)(u.t1,{theme:A,movies:W,fallbackText:'Add some movies to "watchlist" and you\'ll see them here!',title:"Watchlist Movies",isLoading:B,isError:E})}),(0,j.jsx)(u.yh,{setAlertBox:N,alertBox:z,theme:A})]})}}}]);
//# sourceMappingURL=670.e882abaa.chunk.js.map