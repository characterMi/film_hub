"use strict";(self.webpackChunkfilm_hub=self.webpackChunkfilm_hub||[]).push([[315],{315:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var i=s(3123),r=s(4554),o=s(3044),l=s(890),a=s(4518),n=s(5228),d=s(3896),c=s(2791),x=s(5048),h=s(1087),m=s(9655),u=s(9354),v=s(8503),f=s(3124),p=s(2703),b=s(184);const g=e=>{const{children:t,value:s,index:i,...r}=e;return(0,b.jsx)("div",{role:"tabpanel",hidden:s!==i,"aria-labelledby":"tab-".concat(i),...r,children:t})},j=e=>{var t,s;let{theme:j}=e,w="movies";const Z=localStorage.getItem("session_id");"tv"===localStorage.getItem("type")&&(w="tv");const{user:y}=(0,x.v9)(v.np),{data:k,isFetching:C,error:I,refetch:_}=(0,f.Gx)({listName:"favorite/".concat(w),accountId:y.id,sessionId:Z,page:1}),{data:L,isFetching:P,error:S,refetch:W}=(0,f.Gx)({listName:"watchlist/".concat(w),accountId:y.id,sessionId:Z,page:1}),[A,B]=(0,h.lr)(),E=A.get("tab"),[F,M]=(0,c.useState)(!1),[z,G]=(0,c.useState)(E||0);(0,c.useEffect)((()=>{G(E>=0&&E<=1?+E:0)}),[E]),(0,c.useEffect)((()=>{if(!Z)return void m.Am.error("You need to login to view your profile!");const{unsubscribe:e}=W(),{unsubscribe:t}=_();return()=>{e(),t()}}),[]);return(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(r.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem",children:[(0,b.jsxs)(r.Z,{display:"flex",overflow:"hidden",flex:"1",minWidth:"200px",children:[(0,b.jsx)(o.Z,{sx:{border:"1px solid",p:1,width:{xs:"45px",sm:"60px"},height:{xs:"45px",sm:"60px"}},mb:"-1rem",alt:null===y||void 0===y?void 0:y.username,src:"https://www.themoviedb.org/t/p/w64_and_h64_face/".concat(null===y||void 0===y||null===(t=y.avatar)||void 0===t||null===(s=t.tmdb)||void 0===s?void 0:s.avatar_path)}),(0,b.jsxs)(r.Z,{display:"flex",flexDirection:"column",ml:"1rem",children:[(0,b.jsx)(l.Z,{sx:{fontSize:{xs:"26px",sm:"34px"}},gutterBottom:!0,children:"Your Profile"}),(0,b.jsx)(l.Z,{variant:"body1",color:"#7a7a7a",sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:null!==y&&void 0!==y&&y.username?"@".concat(y.username):"User"})]})]}),(0,b.jsxs)(a.Z,{size:"small",sx:{height:"max-content"},color:"light"===j.palette.mode?"primary":"error",variant:"outlined",onClick:()=>M(!0),children:["Logout \xa0 ",(0,b.jsx)(i.Z,{})]})]}),(0,b.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider",mt:"2rem"},children:(0,b.jsxs)(n.Z,{value:z,onChange:(e,t)=>{B({tab:t}),G(t)},"aria-label":"Movie tabs",textColor:"inherit",children:[(0,b.jsx)(d.Z,{label:"Favorites",...(0,p.Pf)(0)}),(0,b.jsx)(d.Z,{label:"Watchlist",...(0,p.Pf)(1)})]})}),(0,b.jsx)(g,{value:z,index:0,children:(0,b.jsx)(u.LP,{theme:j,movies:k,fallbackText:"Add some favorite movies to see them here!",title:"Favorite Movies",isLoading:C,isError:I})}),(0,b.jsx)(g,{value:z,index:1,children:(0,b.jsx)(u.LP,{theme:j,movies:L,fallbackText:'Add some movies to "watchlist" and you\'ll see them here!',title:"Watchlist Movies",isLoading:P,isError:S})}),(0,b.jsx)(u.e3,{setAlertBox:M,alertBox:F,theme:j})]})}}}]);
//# sourceMappingURL=315.971994e4.chunk.js.map