"use strict";(self.webpackChunkfilm_hub=self.webpackChunkfilm_hub||[]).push([[315],{315:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var i=s(3123),o=s(4554),r=s(3044),l=s(890),a=s(4518),n=s(5228),d=s(3896),c=s(2791),x=s(5048),h=s(7689),m=s(1087),u=s(9655),v=s(9354),f=s(8503),p=s(3124),b=s(2703),g=s(184);const j=e=>{const{children:t,value:s,index:i,...o}=e;return(0,g.jsx)("div",{role:"tabpanel",hidden:s!==i,"aria-labelledby":"tab-".concat(i),...o,children:t})},w=e=>{var t,s;let{theme:w}=e,Z="movies";const y=localStorage.getItem("session_id"),I=(0,h.s0)();"tv"===localStorage.getItem("type")&&(Z="tv"),y||(u.Am.error("You need to login to view your profile!"),I("/"));const{user:_}=(0,x.v9)(f.np),{data:k,isFetching:C,error:S,refetch:L}=(0,p.Gx)({listName:"favorite/".concat(Z),accountId:_.id,sessionId:localStorage.getItem("session_id"),page:1}),{data:P,isFetching:W,error:A,refetch:B}=(0,p.Gx)({listName:"watchlist/".concat(Z),accountId:_.id,sessionId:localStorage.getItem("session_id"),page:1}),[E,F]=(0,m.lr)(),M=E.get("tab"),[z,G]=(0,c.useState)(!1),[N,T]=(0,c.useState)(M||0);(0,c.useEffect)((()=>{T(M>=0&&M<=1?+M:0)}),[M]),(0,c.useEffect)((()=>{const{unsubscribe:e}=B(),{unsubscribe:t}=L();return()=>{e(),t()}}),[]);return(0,g.jsxs)(o.Z,{children:[(0,g.jsxs)(o.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem",children:[(0,g.jsxs)(o.Z,{display:"flex",overflow:"hidden",flex:"1",minWidth:"200px",children:[(0,g.jsx)(r.Z,{sx:{border:"1px solid",p:1,width:{xs:"45px",sm:"60px"},height:{xs:"45px",sm:"60px"}},mb:"-1rem",alt:null===_||void 0===_?void 0:_.username,src:"https://www.themoviedb.org/t/p/w64_and_h64_face/".concat(null===_||void 0===_||null===(t=_.avatar)||void 0===t||null===(s=t.tmdb)||void 0===s?void 0:s.avatar_path)}),(0,g.jsxs)(o.Z,{display:"flex",flexDirection:"column",ml:"1rem",children:[(0,g.jsx)(l.Z,{sx:{fontSize:{xs:"26px",sm:"34px"}},gutterBottom:!0,children:"Your Profile"}),(0,g.jsx)(l.Z,{variant:"body1",color:"#7a7a7a",sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:null!==_&&void 0!==_&&_.username?"@".concat(_.username):"User"})]})]}),(0,g.jsxs)(a.Z,{size:"small",sx:{height:"max-content"},color:"light"===w.palette.mode?"primary":"error",variant:"outlined",onClick:()=>G(!0),children:["Logout \xa0 ",(0,g.jsx)(i.Z,{})]})]}),(0,g.jsx)(o.Z,{sx:{borderBottom:1,borderColor:"divider",mt:"2rem"},children:(0,g.jsxs)(n.Z,{value:N,onChange:(e,t)=>{F({tab:t}),T(t)},"aria-label":"Movie tabs",textColor:"inherit",children:[(0,g.jsx)(d.Z,{label:"Favorites",...(0,b.Pf)(0)}),(0,g.jsx)(d.Z,{label:"Watchlist",...(0,b.Pf)(1)})]})}),(0,g.jsx)(j,{value:N,index:0,children:(0,g.jsx)(v.LP,{theme:w,movies:k,fallbackText:"Add some favorite movies to see them here!",title:"Favorite Movies",isLoading:C,isError:S})}),(0,g.jsx)(j,{value:N,index:1,children:(0,g.jsx)(v.LP,{theme:w,movies:P,fallbackText:'Add some movies to "watchlist" and you\'ll see them here!',title:"Watchlist Movies",isLoading:W,isError:A})}),(0,g.jsx)(v.e3,{setAlertBox:G,alertBox:z,theme:w})]})}}}]);
//# sourceMappingURL=315.ee2b31ad.chunk.js.map