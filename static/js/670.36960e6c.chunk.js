"use strict";(self.webpackChunkfilm_hub=self.webpackChunkfilm_hub||[]).push([[670],{6670:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var s=i(3010),l=i(6946),r=i(1045),o=i(5865),a=i(2518),n=i(6704),d=i(4056),h=i(5043),x=i(5137),c=i(5475),v=i(7503),u=i(3029),m=i(8302),p=i(2753),b=i(3596),f=i(579);const j=e=>{let{children:t,value:i,index:s,...l}=e;return(0,f.jsx)("div",{role:"tabpanel",hidden:i!==s,...l,children:t})},g=e=>{var t,i,g,A;let{theme:w}=e;const k=(0,p.v)(),y=localStorage.getItem("session_id"),{user:C}=(0,x.d4)(m.dt),{data:_,isFetching:I,error:W,refetch:F}=(0,b.kh)({listName:"favorite/"+("tv"===k?"tv":"movies"),accountId:C.id,sessionId:y,page:1}),{data:B,isFetching:S,error:E,refetch:L}=(0,b.kh)({listName:"watchlist/"+("tv"===k?"tv":"movies"),accountId:C.id,sessionId:y,page:1}),[M,N]=(0,c.ok)(),[z,T]=(0,h.useState)(!1),[Y,$]=(0,h.useState)(1===Number(M.get("tab"))?1:0);(0,h.useEffect)((()=>{if(!y)return void v.oR.error("You need to login to view your profile!");const{unsubscribe:e}=L(),{unsubscribe:t}=F();return()=>{e(),t()}}),[]);return(0,f.jsxs)(l.A,{children:[(0,f.jsxs)(l.A,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem",children:[(0,f.jsxs)(l.A,{display:"flex",overflow:"hidden",flex:"1",minWidth:"200px",children:[(0,f.jsx)(r.A,{sx:{border:"1px solid",p:1,width:{xs:"45px",sm:"60px"},height:{xs:"45px",sm:"60px"}},mb:"-1rem",alt:null===C||void 0===C?void 0:C.username,src:`https://www.themoviedb.org/t/p/w64_and_h64_face/${null===C||void 0===C||null===(t=C.avatar)||void 0===t||null===(i=t.tmdb)||void 0===i?void 0:i.avatar_path}`}),(0,f.jsxs)(l.A,{display:"flex",flexDirection:"column",ml:"1rem",children:[(0,f.jsx)(o.A,{sx:{fontSize:{xs:"26px",sm:"34px"}},gutterBottom:!0,children:"Your Profile"}),(0,f.jsx)(o.A,{variant:"body1",color:"#7a7a7a",sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:null!==C&&void 0!==C&&C.username?`@${C.username}`:"User"})]})]}),(0,f.jsxs)(a.A,{size:"small",sx:{height:"max-content"},color:"light"===w.palette.mode?"primary":"error",variant:"outlined",onClick:()=>T(!0),children:["Logout \xa0 ",(0,f.jsx)(s.A,{})]})]}),(0,f.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mt:"2rem"},children:(0,f.jsxs)(n.A,{value:Y,onChange:(e,t)=>{N({tab:t}),$(t)},"aria-label":"Movie tabs",textColor:"inherit",children:[(0,f.jsx)(d.A,{label:"Favorites","aria-controls":"Favorites tabpanel"}),(0,f.jsx)(d.A,{label:"Watchlist","aria-controls":"Watchlist tabpanel"})]})}),(0,f.jsx)(j,{value:Y,index:0,children:(0,f.jsx)(u.t1,{theme:w,movies:null!==(g=null===_||void 0===_?void 0:_.results)&&void 0!==g?g:[],fallbackText:"Add some favorite movies to see them here!",title:"Favorite Movies",isLoading:I,isError:W})}),(0,f.jsx)(j,{value:Y,index:1,children:(0,f.jsx)(u.t1,{theme:w,movies:null!==(A=null===B||void 0===B?void 0:B.results)&&void 0!==A?A:[],fallbackText:'Add some movies to "watchlist" and you\'ll see them here!',title:"Watchlist Movies",isLoading:S,isError:E})}),(0,f.jsx)(u.yh,{setAlertBox:T,alertBox:z,theme:w})]})}}}]);
//# sourceMappingURL=670.36960e6c.chunk.js.map